# Obsidian Index Template (Zoottelkeeper-safe)

> Template Contents assumes you have Templater and Dataview enabled.
> Works whether the note is an actual “folder index” or just a normal note (Zoottelkeeper blocks only render on the true index).

````md
---
title: <% tp.file.title %>
date: <% tp.date.now("YYYY-MM-DD") %>T<% tp.date.now("HH:mm") %>
updated: <% tp.date.now("YYYY-MM-DD") %>
tags:
  - Index
  - MOC
  - BusinessPlan
cssclasses:
  - pro-index
  <% "- " + tp.date.now("dddd", 0, tp.file.title, "YYYYMMDD").toLowerCase() %>
status: Draft
owner: ""
review_cycle: Quarterly
next_review: <% tp.date.now("YYYY-MM-DD", 90) %>
summary: ""
---

# <%= tp.file.folder().length ? tp.file.folder().split('/').pop() : tp.file.title %> — Index

> [!summary]+ Executive Summary
> <%* 
const smry = tp.frontmatter.summary || "";
tR += smry.length ? smry : "One-paragraph overview of this section of the business plan. Keep it crisp and outcome-oriented."; 
%>

---

## Objectives
- Objective 1 — *impact & metric*
- Objective 2 — *impact & metric*
- Objective 3 — *impact & metric*

## Key Results & KPIs
| KPI | Target | Current | Owner | Notes |
|---|---:|---:|---|---|
| Example KPI | 100 | 0 |  |  |

## Stakeholders
| Role | Person | Contact | Responsibilities |
|---|---|---|---|
| Owner |  |  |  |
| Reviewer |  |  |  |
| Finance |  |  |  |

## Milestones & Timeline
| Milestone | Due | Status | Notes |
|---|---:|---|---|
| Kickoff |  | Not Started |  |
| Phase 1 Complete |  |  |  |
| Launch |  |  |  |

---

## Quick Links
- [[../]] (Up one level)
- Internal: [[Key Strategy]], [[Budget]], [[Risks Register]]
- External: <https://example.com/spec>  
> Tip: add a `links:` property in frontmatter later if you want to auto-render this list.

---

## Open Tasks
```dataview
TASK
FROM ""
WHERE contains(file.folder, this.file.folder)
AND !completed
SORT due ASC
````

## Notes in This Folder

```dataview
TABLE file.cday as "Created", file.mday as "Updated"
FROM ""
WHERE contains(file.folder, this.file.folder)
AND file.name != this.file.name
SORT file.name ASC
```

## Attachments - Local

```dataview
LIST file.link
FROM ""
WHERE contains(file.folder, this.file.folder)
AND file.extension != "md"
```

---

## Backlinks - Context

```dataview
LIST FROM outgoing([[<% tp.file.title %>]])
```

---

<%* if (tp.file.title.endsWith(tp.file.folder())) { %>
%% Zoottelkeeper: Beginning of the autogenerated index file list  %%
%% Zoottelkeeper: End of the autogenerated index file list  %%
<%* } %>

````

---

# (Optional) Make it look premium: CSS snippet

> Save as: `.obsidian/snippets/pro-index.css` then enable it in **Settings → Appearance → CSS Snippets**.

```css
.pro-index {
  --callout-radius: 12px;
  --table-border-width: 1px;
  --table-border-color: var(--color-base-40);
  --table-row-alt: color-mix(in oklab, var(--background-modifier-form-field) 70%, transparent);
}

.pro-index .cm-content, .pro-index .markdown-preview-view {
  line-height: 1.6;
}

.pro-index h1, .pro-index h2, .pro-index h3 {
  font-weight: 700;
  letter-spacing: 0.1px;
}

.pro-index table {
  border: var(--table-border-width) solid var(--table-border-color);
  border-collapse: separate;
  border-radius: 10px;
  overflow: hidden;
}

.pro-index thead th {
  font-weight: 700;
  background: var(--background-secondary);
}

.pro-index tbody tr:nth-child(odd) {
  background: var(--table-row-alt);
}

.pro-index .callout {
  border-radius: var(--callout-radius);
  border: 1px solid var(--color-base-40);
}
````

---

# Why this works well in a business plan

* **Clean top-matter**: owner, review cadence, and next review date keep it “board ready.”
* **Objective → KPI → Milestone** flow mirrors standard OKR/roadmap decks.
* **Folder-scoped Dataview**: automatic lists of notes, tasks, and attachments stay in sync without manual curation.
* **Zoottelkeeper-safe**: the `if (tp.file.title.endsWith(tp.file.folder()))` guard ensures the plugin’s autogenerated list only appears on true folder index files.
* **Visual polish**: the `pro-index` class gives subtle hierarchy and table readability without being flashy.

---

# Pro tips (optional)

* If your true index files follow a naming convention like `(index)` or `_index`, you can strengthen the guard:

```md
<%* 
const isFolderIndex = tp.file.title.endsWith(tp.file.folder()) 
  || tp.file.title.toLowerCase().includes('(index)') 
  || /^_?index$/i.test(tp.file.title);
if (isFolderIndex) { %>
%% Zoottelkeeper: Beginning of the autogenerated index file list  %%
%% Zoottelkeeper: End of the autogenerated index file list  %%
<%* } %>
```

* Add a **banner** plugin property later if you use it:

  ```yaml
  banner: /_banners/<folder>.jpg
  banner_y: 0.5
  ```
